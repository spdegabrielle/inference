<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>3&nbsp;Inference Environments (Basic)</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Inference Collection:<span class="mywbr"> </span></span> Reference Manual</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="introduction.html" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="using.html" class="tocviewlink" pltdoc="x">Using the Inference Collection</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Inference Environments (Basic)</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="control-basic.html" class="tocviewlink" pltdoc="x">Inference Control (Basic)</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="assertions.html" class="tocviewlink" pltdoc="x">Facts and Assertions</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="rulesets.html" class="tocviewlink" pltdoc="x">Rule Sets and Rules</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Inference Environments (Basic)</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#(part._.The_inference-environment_.Structure)" class="tocviewlink" pltdoc="x">The <span class="RktSym">inference-<wbr></wbr>environment</span> Structure</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#(part._.Current_.Inference_.Environment)" class="tocviewlink" pltdoc="x">Current Inference Environment</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#(part._.Current_.Inference_.Environment_.Fields)" class="tocviewlink" pltdoc="x">Current Inference Environment Fields</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#(part._.The_inference-environment_.Structure)" class="tocsubseclink" pltdoc="x">The <span class="RktSym">inference-<wbr></wbr>environment</span> Structure</a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._make-inference-environemnt))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym">make-<wbr></wbr>inference-<wbr></wbr>environemnt</span></span></a></td></tr><tr><td><a href="#(form._((planet._inference..rkt._(williams._inference..plt._2._7))._default-inference-environment))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">default-<wbr></wbr>inference-<wbr></wbr>environment</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#(part._.Current_.Inference_.Environment)" class="tocsubseclink" pltdoc="x">Current Inference Environment</a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-environment))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>environment</span></span></span></span></a></td></tr><tr><td><a href="#(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-inference-environment))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-<wbr></wbr>inference-<wbr></wbr>environment</span></span></span></span></a></td></tr><tr><td><a href="#(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-inference-environment))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-<wbr></wbr>new-<wbr></wbr>inference-<wbr></wbr>environment</span></span></span></span></a></td></tr><tr><td><a href="#(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-child-inference-environment))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-<wbr></wbr>new-<wbr></wbr>child-<wbr></wbr>inference-<wbr></wbr>environment</span></span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#(part._.Current_.Inference_.Environment_.Fields)" class="tocsubseclink" pltdoc="x">Current Inference Environment Fields</a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-data-index))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>data-<wbr></wbr>index</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-goal-index))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>goal-<wbr></wbr>index</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule-nodes))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>rule-<wbr></wbr>nodes</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-exit))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>exit</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-next-assertion-id))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>next-<wbr></wbr>assertion-<wbr></wbr>id</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-assertion-index))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>assertion-<wbr></wbr>index</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-trace))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>trace</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-agenda))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>agenda</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>rule</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-strategy))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>strategy</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-parent))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>parent</span></span></span></span></a></td></tr><tr><td><a href="#(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rules-fired))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-<wbr></wbr>inference-<wbr></wbr>rules-<wbr></wbr>fired</span></span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="using.html" title="backward to &quot;2 Using the Inference Collection&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Inference Collection: Reference Manual&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="control-basic.html" title="forward to &quot;4 Inference Control (Basic)&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>3<tt>&nbsp;</tt><a name="(part._env-basic)"></a>Inference Environments (Basic)</h3><table cellspacing="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.The_inference-environment_.Structure)" class="toclink" pltdoc="x">3.1<span class="hspace">&nbsp;</span>The <span class="RktSym">inference-environment</span> Structure</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Current_.Inference_.Environment)" class="toclink" pltdoc="x">3.2<span class="hspace">&nbsp;</span>Current Inference Environment</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#(part._.Current_.Inference_.Environment_.Fields)" class="toclink" pltdoc="x">3.3<span class="hspace">&nbsp;</span>Current Inference Environment Fields</a></p></td></tr></table><p>An <font class="badlink"><span class="techoutside"><span class="techinside">inference environment</span></span></font> encapsulates the state of an executing inference system. This state information includes the following:</p><ul><li><p>Rule network (nodes, data index, goal, index, rule node list)</p></li><li><p>Assertion index (2 levels) and next assertion id</p></li><li><p>Exit continuation</p></li><li><p>Agenda</p></li><li><p>Current rule, trace flag, and conflict resolution strategy</p></li></ul><p>It is a good practice to create a new inference environment for all of your inference systems. The <span class="RktSym"><span class="badlink"><span class="RktValLink">with-new-inference-environment</span></span></span> facilitates this and is used in all of the examples in this document. The primary advantage is to ensure a clean environment for each new execution of the inference system.</p><p>The PLT Scheme Inference Collection supports multiple inference environments existing at the same time.</p><p>This chapter describes the features of basic simulation environments.</p><h4>3.1<tt>&nbsp;</tt><a name="(part._.The_inference-environment_.Structure)"></a>The <span class="RktSym">inference-environment</span> Structure</h4><p>The <span class="RktSym">inference-environment</span> structure defines an inference environment.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">struct</span><span class="hspace">&nbsp;</span><span class="RktSym">inference-environment</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">data-index</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">goal-index</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">rule-nodes</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">exit</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">next-assertion-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">assertion-index</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">trace</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">agenda</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">rule</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">strategy</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">parent</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">rules-fired</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data-index</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">goal-index</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rule-nodes</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-node?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exit</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBw%0D%0Acm9jZWR1cmU%2FKSkp%0D%0A" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">next-assertion-id</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1wb3NpdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">assertion-index</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trace</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBi%0D%0Ab29sZWFuPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">agenda</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mlistof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rule</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">strategy</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-of/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">depth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">breadth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">order</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">simplicity</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">complex</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">random</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parent</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rules-fired</span><span class="hspace">&nbsp;</span><span class="RktSym">:</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1ub25uZWdhdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span>See Section 3.3 Current Inference Environment Fields for more information on accessing the fields of the current inference environment.</p></blockquote></blockquote></blockquote><ul><li><p><span class="stt">data-index</span>&#8212;<wbr></wbr>an eq? hash table that provides an index of (non-goal) match nodes for each fact kind. This field is maintained internally.</p></li><li><p><span class="stt">goal-index</span>&#8212;<wbr></wbr>an eq? hash table that provides an index of goal match nodes for each fact kind. This field is maintained internally.</p></li><li><p><span class="stt">rule-nodes</span>&#8212;<wbr></wbr>a list of the rule nodes for the activated rule sets. This field is maintained internally.</p></li><li><p><span class="stt">exit</span>&#8212;<wbr></wbr>the continuation to exit the inference currently running in the environment, or false, <span class="RktVal">#f</span>, if no inference is currently running in the environment. This field is used internally.</p></li><li><p><span class="stt">next-assertion-id</span>&#8212;<wbr></wbr>the id to be used for the next assertion.  This is auto-incremented each time an assertion is created. This field is maintained internally.</p></li><li><p><span class="stt">assertion-index</span>&#8212;<wbr></wbr>the level-1 assertion index for the environment.  Each entry in the level-1 assertion index is a level-2 index. This field is used internally.</p></li><li><p><span class="stt">trace</span>&#8212;<wbr></wbr>if true, <span class="RktVal">#t</span>, information on the current inference (e.g., assertions, deletions, and rule firings) is printed.  The default is false, <span class="RktVal">#f</span>. This may be specified by the user.</p></li><li><p><span class="stt">agenda</span>&#8212;<wbr></wbr>a list of the rule instances that are currently eligible to fire. This list is maintained in a priority order.  The ordering is controlled by the current conflict resolution strategy.  This field is used internally.</p></li><li><p><span class="stt">rule</span>&#8212;<wbr></wbr>the currently executing rule instance, or false, <span class="RktVal">#f</span>, if no rule is currently being executed.</p></li><li><p><div class="SIntrapara"><span class="stt">strategy</span>&#8212;<wbr></wbr>the conflict resolution strategy used to order the agenda. This determines the order in which rules or equal priority are fired. The available conflict resolution strategies are:
</div><div class="SIntrapara"><ul><li><p><span class="stt">depth</span>&#8212;<wbr></wbr>depth first. New rule instances are added to the agenda after all other rule instances of equal (or higher) priority.</p></li><li><p><span class="stt">breadth</span>&#8212;<wbr></wbr>breadth first. New rule instances are added at to the agenda before all of ther rule instance ot equal (or lower) priority.</p></li><li><p><span class="stt">order</span>&#8212;<wbr></wbr>rule order. Rule instances of equal priority on the agenda are ordered according to the order of the rules in their corresponding rule sets.</p></li><li><p><span class="stt">simplicity</span>&#8212;<wbr></wbr>simplest first. Rule instance of equal priority on the agenda are ordered such that the simplest rule instances (i.e., the ones with the fewest preconditions) are first.</p></li><li><p><span class="stt">complex</span>&#8212;<wbr></wbr>most complex first. Rule instance of equal priority on the agenda are ordered such that the most complex rule instances (i.e., the ones with the most preconditions) are first.</p></li><li><p><span class="stt">random</span>&#8212;<wbr></wbr>random.  Rules instances of equal priority on the agenda are in random order.</p></li></ul></div><div class="SIntrapara">This may be specified by the user.</div></p></li><li><p><span class="stt">parent</span>&#8212;<wbr></wbr>the parent inference environment, or false, <span class="RktVal">#f</span>, if this is a top-level inference environment. (See Chapter ???.)</p></li><li><p><span class="stt">rules-fired</span>&#8212;<wbr></wbr>the number of rules instances that have been executed by the current inference.</p></li></ul><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._make-inference-environemnt))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._make-inference-environemnt))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym">make-inference-environemnt</span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">parent</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parent</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym">inference-environment</span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></div><div class="SIntrapara">Returns a new inference environment with the given <span class="RktVar">parent</span> inference environment. The newly created inference environment is empty. That is, there are no rule sets activated, no facts are asserted, user specifiable fields have their default values, and no inference is running in the environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._default-inference-environment))"></a><a name="(form._((planet._inference..rkt._(williams._inference..plt._2._7))._default-inference-environment))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">default-inference-environment</span></span></span></span></td></tr></table></div><div class="SIntrapara">Contains the inference environment that is used as the default value for the current inference environment (see Section 3.2).</div></p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Current_.Inference_.Environment)"></a>Current Inference Environment</h4><p>The <font class="badlink"><span class="techoutside"><span class="techinside">current inference environment</span></span></font> is the inference environment that is the current focus for most of the inference calls. It is both thread and continuation specific.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-environment))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-environment))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-environment</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-environment</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">env</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">env</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span></td></tr></table></div><div class="SIntrapara">Gets or sets the current inference environment. A guard procedure ensures that the value of <span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-environment</span></span></span> is indeed an inference environment, as determined by <span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span>, otherwise a type error is raised.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._with-inference-environment))"></a><a name="(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-inference-environment))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-inference-environment</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">env</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Evaluates its body with the current inference environment bound to the value of <span class="RktVar">env</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-inference-environment))"></a><a name="(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-inference-environment))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-new-inference-environment</span></span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Evaluates its body with the current inference environment bound to a newly created inference environment. This is the most common way to create and use a new inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-child-inference-environment))"></a><a name="(form._((planet._inference..rkt._(williams._inference..plt._2._7))._with-new-child-inference-environment))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">with-new-child-inference-environment</span></span></span></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Evaluates its body with the current inference environment bound to a newly created inference environment that is a child of the current inference environement.</div></p><h4>3.3<tt>&nbsp;</tt><a name="(part._.Current_.Inference_.Environment_.Fields)"></a>Current Inference Environment Fields</h4><p>The most common way of accessing the current inference environment fields is using the following procedures.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-data-index))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-data-index))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-data-index</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">data-index</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data-index</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-data-index</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">data-index</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-goal-index))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-goal-index))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-goal-index</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">data-index</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">data-index</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-goal-index</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktSym">goal-index</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule-nodes))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule-nodes))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rule-nodes</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rule-nodes</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rule-nodes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-node?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rule-nodes</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">listof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-node?</span></span></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">rule-nodes</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-exit))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-exit))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-exit</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exit</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exit</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBw%0D%0Acm9jZWR1cmU%2FKSkp%0D%0A" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-exit</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-of/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBw%0D%0Acm9jZWR1cmU%2FKSkp%0D%0A" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">exit</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-next-assertion-id))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-next-assertion-id))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-next-assertion-id</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">next-assertion-id</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">next-assertion-id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1wb3NpdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-next-assertion-id</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1wb3NpdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-positive-integer?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">next-assertion-id</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-assertion-index))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-assertion-index))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-assertion-index</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">assertion-index</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">assertion-index</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-assertion-index</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBo%0D%0AYXNoLWVxPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">hash-eq?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">assertion-index</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-trace))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-trace))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-trace</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trace</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBi%0D%0Ab29sZWFuPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-trace</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBi%0D%0Ab29sZWFuPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">trace</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-agenda))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-agenda))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-agenda</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">agenda</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">agenda</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mlistof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-agenda</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mlistof</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">agenda</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rule))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rule</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">rule</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">rule</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rule</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">rule-instance?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">rule</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-strategy))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-strategy))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-strategy</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">strategy</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">strategy</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-of/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">depth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">breadth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">order</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">simplicity</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">complex</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">random</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-strategy</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">one-of/c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">depth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">breadth</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">order</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">simplicity</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">complex</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">random</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">strategy</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-parent))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-parent))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-parent</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">parent</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">parent</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-parent</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">inference-environment?</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">false/c</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktVar">parent</span> field of the current inference environment.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rules-fired))"></a><a name="(def._((planet._inference..rkt._(williams._inference..plt._2._7))._current-inference-rules-fired))"></a><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rules-fired</span></span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trace</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyB2%0D%0Ab2lkPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">trace</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1ub25uZWdhdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: (planet williams/inference/inference)"><span class="RktSym"><span class="badlink"><span class="RktValLink">current-inference-rules-fired</span></span></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="/servlets/doc-search.rkt?tag=KCgyKSAwICgpIDAgKCkgKCkgKGMgZGVmIGMgKGMgKGMgcXVvdGUgYyAjJWtlcm5lbCkgYyBl%0D%0AeGFjdC1ub25uZWdhdGl2ZS1pbnRlZ2VyPykpKQ%3D%3D%0D%0A" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table></div><div class="SIntrapara">Sets or gets the <span class="RktSym">rules-fired</span> field of the current inference environment.</div></p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="using.html" title="backward to &quot;2 Using the Inference Collection&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Inference Collection: Reference Manual&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="control-basic.html" title="forward to &quot;4 Inference Control (Basic)&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>